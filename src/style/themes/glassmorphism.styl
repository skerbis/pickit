// Glassmorphism Theme for flatpickr
// Modern glassmorphic design with blur effects and transparency

$calendarBackground = rgba(255, 255, 255, 0.25)
$calendarBorderColor = rgba(255, 255, 255, 0.18)

$monthForeground = rgba(0, 0, 0, 0.87)
$monthBackground = transparent

$weekdaysBackground = transparent
$weekdays_color = rgba(0, 0, 0, 0.6)

$dayForeground = rgba(0, 0, 0, 0.87)
$dayHoverBackground = rgba(255, 255, 255, 0.4)

$todayColor = #667eea
$today_fg_color = rgba(0, 0, 0, 0.87)

$selectedDayBackground = rgba(102, 126, 234, 0.8)
$selectedDayForeground = #fff

$disabled_day_color = rgba(0, 0, 0, 0.3)

@require "../flatpickr"

.flatpickr-calendar
	background $calendarBackground
	backdrop-filter blur(10px)
	-webkit-backdrop-filter blur(10px)
	border 1px solid $calendarBorderColor
	border-radius 16px
	box-shadow 0 8px 32px 0 rgba(31, 38, 135, 0.37)

.flatpickr-months
	.flatpickr-prev-month,
	.flatpickr-next-month
		fill $monthForeground
		&:hover
			svg
				fill $todayColor

.flatpickr-current-month
	.flatpickr-monthDropdown-months
		background transparent
		backdrop-filter blur(5px)
		-webkit-backdrop-filter blur(5px)
		border 1px solid rgba(255, 255, 255, 0.18)
		border-radius 8px
		
.flatpickr-current-month .numInputWrapper
	.arrowUp,
	.arrowDown
		&:after
			border-bottom-color $monthForeground
	.arrowDown:after
		border-top-color $monthForeground

span.flatpickr-weekday
	color $weekdays_color
	font-weight 500

.flatpickr-day
	color $dayForeground
	border-radius 8px
	transition all 0.2s ease

	&.today
		border-color $todayColor
		color $today_fg_color
		background rgba(102, 126, 234, 0.1)
		&:hover,
		&:focus
			border-color $todayColor
			background rgba(102, 126, 234, 0.2)
			color $today_fg_color

	&.selected,
	&.startRange,
	&.endRange
		background $selectedDayBackground
		border-color $selectedDayBackground
		color $selectedDayForeground
		backdrop-filter blur(5px)
		-webkit-backdrop-filter blur(5px)
		&:hover,
		&:focus
			background rgba(102, 126, 234, 0.9)
			border-color rgba(102, 126, 234, 0.9)

	&.inRange
		background rgba(102, 126, 234, 0.2)
		border-color rgba(102, 126, 234, 0.2)
		box-shadow -5px 0 0 rgba(102, 126, 234, 0.2), 5px 0 0 rgba(102, 126, 234, 0.2)

	&.disabled,
	&.prevMonthDay,
	&.nextMonthDay
		color $disabled_day_color
		&:hover
			background transparent
			border-color transparent

	&:hover:not(.disabled):not(.selected)
		background $dayHoverBackground
		border-color rgba(255, 255, 255, 0.4)
		backdrop-filter blur(5px)
		-webkit-backdrop-filter blur(5px)

.flatpickr-time
	border-top 1px solid rgba(255, 255, 255, 0.18)
	background rgba(255, 255, 255, 0.1)
	backdrop-filter blur(5px)
	-webkit-backdrop-filter blur(5px)

	input
		background rgba(255, 255, 255, 0.2)
		border 1px solid rgba(255, 255, 255, 0.18)
		border-radius 6px
		color $dayForeground
		backdrop-filter blur(3px)
		-webkit-backdrop-filter blur(3px)
		&:hover,
		&:focus
			background rgba(255, 255, 255, 0.3)

.flatpickr-time-separator,
.flatpickr-am-pm
	color $dayForeground

// Dark mode variant
@media (prefers-color-scheme: dark)
	.flatpickr-calendar
		background rgba(0, 0, 0, 0.4)
		border 1px solid rgba(255, 255, 255, 0.18)

	.flatpickr-months .flatpickr-prev-month,
	.flatpickr-months .flatpickr-next-month,
	.flatpickr-current-month .flatpickr-monthDropdown-months,
	span.flatpickr-weekday,
	.flatpickr-day,
	.flatpickr-time input,
	.flatpickr-time-separator,
	.flatpickr-am-pm
		color rgba(255, 255, 255, 0.87)

	.flatpickr-day.today
		color rgba(255, 255, 255, 0.87)
		background rgba(102, 126, 234, 0.2)

	span.flatpickr-weekday
		color rgba(255, 255, 255, 0.6)

	.flatpickr-day.disabled,
	.flatpickr-day.prevMonthDay,
	.flatpickr-day.nextMonthDay
		color rgba(255, 255, 255, 0.3)
